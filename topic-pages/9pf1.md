## 🛡️ Part 1: pfSense VM — Adapter Settings & LAN IP Configuration

### 📌 Introduction

``
       In this part of the lab, we'll configure pfSense as the firewall and gateway for our 
       home lab SOC setup. We'll attach two adapters (WAN and LAN) and assign a static LAN IP.
``

### 💡 Tip: Keep ChatGPT Handy

``
       If pfSense doesn't boot or your LAN IP won't respond, here a sample prompt for ChatGPT:  

       "I'm setting up pfSense in VirtualBox with NAT + Internal adapters. LAN should be 192.168.10.1 
       but it's not reachable. Here's my adapter setup and console output: <_____>. What should I check?"
``

---

### 🔹 Step 1: pfSense Adapters (Adapters: 1 [WAN] & 2 [LAN]) Configuration

1. **Power off** the pfSense VM.

2. Open **Settings** → **Network**.

• **Adapter 1 (WAN):**  

o Check **Enable Network Adapter** [✓]  
o Attached to: **NAT**  
o Promiscuous Mode: **Allow All**
o Click **Port Forwarding** 

![](../images/9p1-images/Pf1.png)

3\. Click **'+'** (Add button) to add Port Forwarding Rules:

	Enter:

o Name: **pfSense**  
o Protocol: **TCP**  
o Host IP: **(leave blank)**  
o Host Port: **8443**  
o Guest IP: **10.0.2.15**  
o Guest Port: **8443**

4\. Click **OK**
	
![](../images/9p1-images/Pf2.png)

• **Adapter 2 (LAN):**  
o Check **Enable Network Adapter** [✓]  
o Attached to: **Internal Network**  
o Name: **LabNet** (or any name you want, just make sure all VMs use the same network name)  
o Promiscuous Mode: **Allow All**  
o Click **OK** to save settings and exit.  

![](../images/9p1-images/Pf3.png)

---

### 🔹 Step 2: Configure LAN Static IP

1. Boot pfSense and assign interfaces and Static IP Addresses:

   	- `em0` → **WAN (NAT)** → automatically assigned by VirtualBox  
  	- `em1` → **LAN (LabNet)** → configure manually  

2. From pfSense console menu, choose **(2) Set interface(s) IP address**  

3. Select LAN: **choose (2)**  

4. Enter Static IP Address:  **IPv4 address: **192.168.10.1**  

![](../images/9p1-images/Pf44.png)

	Enter for each prompt:

o Subnet mask (CIDR): **/24**  
o Gateway: **(leave blank)**  
o IPv6: **none**  
o DHCP server: **No** (we are using a static IP for LAN)  
o Keep HTTPS: **enabled**  

![](../images/9p1-images/Pf55.png)

5\. Press **ENTER** to continue  

![](../images/9p1-images/Pf66.png)

- The Static IP Address of pfSense VM is now set to **192.168.10.1**  
- The pfSense Firewall GUI can be accessed from Kali Linux or Windows 10 VM browser after their adapter setup:  

• https://192.168.10.1:8443

> 	Default Username: **admin**  
> 	Default Password: **admin**

Or, try from your host machine’s browser (thanks to NAT Port Forwarding). 
 
If access fails:  

- On pfSense VM console, select option **(8) Shell**  
- Run `pfctl -d` to temporarily disable packet filtering  
- Then try again:  

https://127.0.0.1:8443<br>
https://192.168.10.1:8443<br>
https://localhost:8443

![](../images/9p1-images/Pf7.png)

---


👉 [Configure Kali-Linux VM](/_.md) →  
🔙 [Back to Home](../index.md) 
